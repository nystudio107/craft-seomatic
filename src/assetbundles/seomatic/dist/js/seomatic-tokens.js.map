{"version":3,"sources":["webpack://seomatic/../src/assetbundles/seomatic/src/js/seomatic-tokens.js"],"names":["document","querySelectorAll","el","keywords","undefined","value","split","map","index","id","name","options","addItemOnBlur","addItemsOnPaste","delimiters","setItems","tf","Tokenfield","resetting","on","tokenField","disabled","_onReset","values","_vars","join"],"mappings":";;;;;;;;8vCAoBiBA,SAASC,iBAAiB,uB,yBAAhCC,E,QACHC,OAAWC,EAEXF,EAAGG,QACHF,EAAWD,EAAGG,MAAMC,MAAM,KAAKC,KAAI,SAACF,EAAOG,GACvC,GAAc,KAAVH,EACA,MAAO,CAACI,GAAID,EAAOE,KAAML,OAIrC,IAAIM,EAAU,CACVT,GAAIA,EACJU,eAAe,EACfC,iBAAiB,EACjBC,WAAY,CAAC,WAEAV,IAAbD,QAA0CC,IAAhBD,EAAS,KACnCQ,EAAQI,SAAWZ,GAEvB,IAAIa,EAAK,IAAIC,IAAWN,GACpBO,GAAY,EAChBF,EAAGG,GAAG,UAAU,SAACC,GACb,IAAKF,GAAahB,EAAGmB,SAIjB,OAHAH,GAAY,EACZE,EAAWE,gBACXJ,GAAY,GAIhB,IAAIK,EAASH,EAAWI,MAAMT,SAASR,KAAI,SAACF,GACxC,OAAOA,EAAMK,QAGjBU,EAAWlB,GAAGG,MAAQkB,EAAOE,KAAK,SAjC1C,2BAAkE,I","file":"js/seomatic-tokens.js","sourcesContent":["/**\n * SEOmatic plugin for Craft CMS 3.x\n *\n * A turnkey SEO implementation for Craft CMS that is comprehensive, powerful,\n * and flexible\n *\n * @link      https://nystudio107.com\n * @copyright Copyright (c) 2017 nystudio107\n */\n\n/**\n * @author    nystudio107\n * @package   SEOmatic\n * @since     3.0.0\n */\n\n// JavaScript\nimport Tokenfield from 'tokenfield';\n\n// Tokenize any seomatic-keywords fields\nfor (const el of document.querySelectorAll('.seomatic-keywords')) {\n    let keywords = undefined;\n\n    if (el.value) {\n        keywords = el.value.split(',').map((value, index) => {\n            if (value !== '') {\n                return {id: index, name: value};\n            }\n        });\n    }\n    let options = {\n        el: el,\n        addItemOnBlur: true,\n        addItemsOnPaste: true,\n        delimiters: [','],\n    };\n    if (keywords !== undefined && keywords[0] !== undefined) {\n        options.setItems = keywords;\n    }\n    let tf = new Tokenfield(options);\n    let resetting = false;\n    tf.on('change', (tokenField) => {\n        if (!resetting && el.disabled) {\n            resetting = true;\n            tokenField._onReset();\n            resetting = false;\n            return;\n        }\n\n        let values = tokenField._vars.setItems.map((value) => {\n            return value.name;\n        });\n        \n        tokenField.el.value = values.join(',');\n    });\n}\n"],"sourceRoot":""}